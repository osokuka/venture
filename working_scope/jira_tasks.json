{
  "project": {
    "key": "VL",
    "name": "VentureLink Platform",
    "description": "Django REST API backend for VentureLink startup platform"
  },
  "epics": [
    {
      "key": "VL-1",
      "summary": "Project Foundation & Infrastructure",
      "description": "Set up Django project structure, Docker environment, database, and authentication system",
      "type": "Epic",
      "priority": "Highest"
    },
    {
      "key": "VL-2",
      "summary": "User Registration & Profile Management",
      "description": "Implement registration flows and profile CRUD for Ventures, Investors, and Mentors",
      "type": "Epic",
      "priority": "Highest"
    },
    {
      "key": "VL-3",
      "summary": "Approval Workflow System",
      "description": "Build admin review and approval system with status management and notifications",
      "type": "Epic",
      "priority": "High"
    },
    {
      "key": "VL-4",
      "summary": "Visibility & Browsing System",
      "description": "Implement role-based visibility rules and browsing functionality",
      "type": "Epic",
      "priority": "High"
    },
    {
      "key": "VL-5",
      "summary": "Messaging System",
      "description": "Build secure in-platform messaging between approved users",
      "type": "Epic",
      "priority": "High"
    },
    {
      "key": "VL-6",
      "summary": "Matching Engine",
      "description": "Develop matching algorithm to connect ventures with investors and mentors",
      "type": "Epic",
      "priority": "Medium"
    },
    {
      "key": "VL-7",
      "summary": "Content Management",
      "description": "Implement FAQ, success stories, resources, and contact information APIs",
      "type": "Epic",
      "priority": "Medium"
    },
    {
      "key": "VL-8",
      "summary": "Production Deployment",
      "description": "Production hardening, Docker setup, Nginx configuration, and deployment",
      "type": "Epic",
      "priority": "High"
    }
  ],
  "stories": [
    {
      "key": "VL-101",
      "summary": "Set up Django project structure and core configuration",
      "description": "Create Django project with proper app structure, settings management (base/dev/prod), and URL routing",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Highest",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Django project created with config/ directory",
        "Settings split into base.py, development.py, production.py",
        "URL routing configured with /api/ prefix",
        "All core apps created (accounts, ventures, investors, mentors, approvals, matching, messaging, content)"
      ],
      "tasks": [
        {
          "summary": "Create Django project structure",
          "description": "Initialize Django project with proper directory structure",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Configure settings for multiple environments",
          "description": "Split settings into base, development, and production",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Set up URL routing",
          "description": "Configure main urls.py and app-level URL patterns",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create all Django apps",
          "description": "Create apps: accounts, ventures, investors, mentors, approvals, matching, messaging, content",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-102",
      "summary": "Set up PostgreSQL database and migrations",
      "description": "Configure PostgreSQL connection, create initial migrations, and set up database models",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Highest",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "PostgreSQL database configured and connected",
        "Database migrations run successfully",
        "Database connection pooling configured"
      ],
      "tasks": [
        {
          "summary": "Configure PostgreSQL database settings",
          "description": "Set up database configuration in settings",
          "type": "Task",
          "estimate": "1h"
        },
        {
          "summary": "Create initial migrations",
          "description": "Run makemigrations and migrate commands",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-103",
      "summary": "Implement JWT authentication system",
      "description": "Set up djangorestframework-simplejwt for token-based authentication",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Highest",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "JWT token generation on login",
        "Token refresh endpoint working",
        "Token validation middleware configured",
        "Access token expires in 15 minutes",
        "Refresh token expires in 7 days"
      ],
      "tasks": [
        {
          "summary": "Install and configure djangorestframework-simplejwt",
          "description": "Add JWT library and configure token settings",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create login and refresh endpoints",
          "description": "Implement POST /api/auth/login and POST /api/auth/refresh",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Configure token authentication middleware",
          "description": "Set up authentication classes and permissions",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-104",
      "summary": "Implement email verification system",
      "description": "Create email verification tokens and endpoints for email confirmation",
      "type": "Story",
      "epic": "VL-1",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "EmailVerificationToken model created",
        "Verification email sent on registration",
        "POST /api/auth/verify-email endpoint working",
        "POST /api/auth/resend-verification endpoint working",
        "Tokens expire after 24 hours"
      ],
      "tasks": [
        {
          "summary": "Create EmailVerificationToken model",
          "description": "Model with user, token, expires_at, used_at fields",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create verification email template",
          "description": "Design and create HTML-styled email template with verification link (responsive, branded)",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Implement verification endpoints",
          "description": "Create verify-email and resend-verification endpoints",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Set up Celery task for sending emails",
          "description": "Create async task for sending verification emails with HTML templates",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-105",
      "summary": "Set up Docker development environment",
      "description": "Create Docker Compose file with all required services for development",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Highest",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "docker-compose.yml created with all services",
        "PostgreSQL, Redis, Django web, Celery, Celery-beat services configured",
        "One command brings up entire environment",
        "Migrations run automatically on startup",
        "Volumes configured for database and media files"
      ],
      "tasks": [
        {
          "summary": "Create Dockerfile for Django application",
          "description": "Multi-stage Dockerfile for development",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create docker-compose.yml with all services",
          "description": "Configure PostgreSQL, Redis, web, celery, celery-beat services",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Create entrypoint script",
          "description": "Script to run migrations and start server",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create .env.example file",
          "description": "Document all required environment variables",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-201",
      "summary": "Create User and Account models",
      "description": "Implement User model with roles and email verification status",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Highest",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "User model with email, password, full_name, role fields",
        "Role choices: VENTURE, INVESTOR, MENTOR, ADMIN",
        "is_email_verified boolean field",
        "Email field is unique and indexed"
      ],
      "tasks": [
        {
          "summary": "Create User model",
          "description": "Define User model with all required fields",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate and apply database migrations",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-202",
      "summary": "Implement user registration endpoint",
      "description": "Create POST /api/auth/register endpoint for user registration",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Highest",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "POST /api/auth/register accepts email, password, role",
        "Password validation (min length, complexity)",
        "User created with DRAFT status",
        "Verification email sent automatically",
        "Returns user data and success message"
      ],
      "tasks": [
        {
          "summary": "Create registration serializer",
          "description": "Serializer with validation for email, password, role",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create registration view",
          "description": "API view to handle registration requests",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add password validation",
          "description": "Implement password strength requirements",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Integrate with email verification",
          "description": "Trigger verification email on registration",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-203",
      "summary": "Implement Venture profile models",
      "description": "Create VentureProfile, Founder, TeamMember, VentureNeed, VentureDocument models",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "VentureProfile model with all required fields",
        "Founder model with venture relationship",
        "TeamMember model with venture relationship",
        "VentureNeed model for multi-select needs",
        "VentureDocument model for file uploads",
        "All relationships properly configured"
      ],
      "tasks": [
        {
          "summary": "Create VentureProfile model",
          "description": "Model with user, company info, status fields",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create Founder model",
          "description": "Model linked to VentureProfile",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create TeamMember model",
          "description": "Model for team members",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create VentureNeed model",
          "description": "Model for venture needs (finance, market access, etc.)",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create VentureDocument model",
          "description": "Model for pitch deck and other documents",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for all venture models",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-204",
      "summary": "Implement Venture profile CRUD endpoints",
      "description": "Create endpoints for venture profile creation, update, and retrieval",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "POST /api/ventures/profile creates/updates draft profile",
        "GET /api/ventures/profile/me returns own profile",
        "Website and LinkedIn URL validation",
        "Support for nested founder and team member creation",
        "Profile can be saved as DRAFT before submission"
      ],
      "tasks": [
        {
          "summary": "Create VentureProfile serializer",
          "description": "Serializer with nested serializers for founders and team",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Create profile create/update view",
          "description": "POST endpoint for profile management",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create profile retrieve view",
          "description": "GET /api/ventures/profile/me endpoint",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Add URL validation",
          "description": "Validate website and LinkedIn URLs",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-205",
      "summary": "Implement Investor profile models and endpoints",
      "description": "Create InvestorProfile model and CRUD endpoints",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "InvestorProfile model created",
        "POST /api/investors/profile endpoint",
        "GET /api/investors/profile/me endpoint",
        "PATCH /api/investors/profile/me endpoint",
        "Support for stage and industry preferences"
      ],
      "tasks": [
        {
          "summary": "Create InvestorProfile model",
          "description": "Model with preferences and visibility settings",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create investor serializers and views",
          "description": "CRUD endpoints for investor profiles",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for investor models",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-206",
      "summary": "Implement Mentor profile models and endpoints",
      "description": "Create MentorProfile model and CRUD endpoints",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "MentorProfile model created",
        "POST /api/mentors/profile endpoint",
        "GET /api/mentors/profile/me endpoint",
        "PATCH /api/mentors/profile/me endpoint",
        "Support for expertise, pricing, and availability"
      ],
      "tasks": [
        {
          "summary": "Create MentorProfile model",
          "description": "Model with expertise, pricing, and visibility settings",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create mentor serializers and views",
          "description": "CRUD endpoints for mentor profiles",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for mentor models",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-207",
      "summary": "Implement profile submission endpoints",
      "description": "Create submit endpoints that change profile status to SUBMITTED",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "POST /api/ventures/profile/submit changes status to SUBMITTED",
        "POST /api/investors/profile/submit changes status to SUBMITTED",
        "POST /api/mentors/profile/submit changes status to SUBMITTED",
        "Validation ensures all required fields are filled",
        "Creates ReviewRequest automatically"
      ],
      "tasks": [
        {
          "summary": "Create submission views for all roles",
          "description": "Implement submit endpoints for ventures, investors, mentors",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Add submission validation",
          "description": "Validate all required fields before allowing submission",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-301",
      "summary": "Create ReviewRequest model",
      "description": "Implement generic review request model for all profile types",
      "type": "Story",
      "epic": "VL-3",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "ReviewRequest model with ContentType generic relation",
        "Status field: SUBMITTED, APPROVED, REJECTED",
        "Reviewer and reviewed_at fields",
        "Internal notes field for admin use"
      ],
      "tasks": [
        {
          "summary": "Create ReviewRequest model",
          "description": "Model with generic foreign key to profiles",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for ReviewRequest",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-302",
      "summary": "Implement pitch deck upload endpoint",
      "description": "Create endpoint for uploading pitch deck with validation",
      "type": "Story",
      "epic": "VL-3",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "POST /api/ventures/documents/pitch-deck accepts file upload",
        "Validates file is PDF",
        "Validates file size <= 10MB",
        "Stores file in media directory",
        "Returns document metadata"
      ],
      "tasks": [
        {
          "summary": "Create document upload serializer",
          "description": "Serializer for file upload with validation",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create upload view",
          "description": "POST endpoint for pitch deck upload",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add file validation",
          "description": "Validate PDF MIME type and file size",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-303",
      "summary": "Implement admin approval endpoints",
      "description": "Create endpoints for admin to view and approve/reject submissions",
      "type": "Story",
      "epic": "VL-3",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "GET /api/reviews/pending lists pending reviews",
        "Filter by type (venture/investor/mentor)",
        "POST /api/reviews/{id}/approve approves submission",
        "POST /api/reviews/{id}/reject rejects submission",
        "Updates profile status and ReviewRequest",
        "Sends notification email to user"
      ],
      "tasks": [
        {
          "summary": "Create review serializers",
          "description": "Serializers for review list and detail",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create pending reviews list view",
          "description": "GET endpoint with filtering",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create approve/reject views",
          "description": "POST endpoints for approval actions",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Add admin permission checks",
          "description": "Ensure only admin/reviewer can access",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create notification emails",
          "description": "Email templates for approval/rejection",
          "type": "Task",
          "estimate": "3h"
        }
      ]
    },
    {
      "key": "VL-401",
      "summary": "Implement visibility-based browsing for ventures",
      "description": "Create endpoint for investors/mentors to browse approved ventures",
      "type": "Story",
      "epic": "VL-4",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "GET /api/ventures/public returns approved ventures only",
        "Only accessible to approved investors/mentors",
        "Pagination implemented",
        "Filtering by sector/industry",
        "Search functionality"
      ],
      "tasks": [
        {
          "summary": "Create ventures list serializer",
          "description": "Serializer for public venture listing",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create public ventures view",
          "description": "GET endpoint with permission checks",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add pagination",
          "description": "Implement pagination for list endpoint",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Add filtering and search",
          "description": "Filter by sector, search by name",
          "type": "Task",
          "estimate": "3h"
        }
      ]
    },
    {
      "key": "VL-402",
      "summary": "Implement visibility toggle for investors/mentors",
      "description": "Allow investors and mentors to toggle visible_to_ventures setting",
      "type": "Story",
      "epic": "VL-4",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "PATCH /api/investors/profile/me allows updating visible_to_ventures",
        "PATCH /api/mentors/profile/me allows updating visible_to_ventures",
        "Only approved investors/mentors can toggle visibility",
        "Changes take effect immediately"
      ],
      "tasks": [
        {
          "summary": "Update investor serializer",
          "description": "Allow visible_to_ventures field in PATCH",
          "type": "Task",
          "estimate": "1h"
        },
        {
          "summary": "Update mentor serializer",
          "description": "Allow visible_to_ventures field in PATCH",
          "type": "Task",
          "estimate": "1h"
        },
        {
          "summary": "Add permission checks",
          "description": "Ensure only approved users can update",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-403",
      "summary": "Implement browsing for investors/mentors by ventures",
      "description": "Create endpoints for ventures to browse visible investors/mentors",
      "type": "Story",
      "epic": "VL-4",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "GET /api/investors/public returns only visible approved investors",
        "GET /api/mentors/public returns only visible approved mentors",
        "Only accessible to approved ventures",
        "Pagination and filtering implemented"
      ],
      "tasks": [
        {
          "summary": "Create investors public list view",
          "description": "GET endpoint filtered by visibility",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create mentors public list view",
          "description": "GET endpoint filtered by visibility",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add permission checks",
          "description": "Ensure only approved ventures can access",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-501",
      "summary": "Create Conversation and Message models",
      "description": "Implement messaging data models",
      "type": "Story",
      "epic": "VL-5",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Conversation model with M2M participants",
        "Message model with conversation FK",
        "read_at field for message read status",
        "last_message_at field on Conversation"
      ],
      "tasks": [
        {
          "summary": "Create Conversation model",
          "description": "Model with participants M2M",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create Message model",
          "description": "Model with conversation FK and sender",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for messaging models",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-502",
      "summary": "Implement messaging endpoints",
      "description": "Create endpoints for conversations and messages",
      "type": "Story",
      "epic": "VL-5",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "GET /api/messages/conversations lists user's conversations",
        "POST /api/messages/conversations creates new conversation",
        "GET /api/messages/conversations/{id} gets conversation with messages",
        "POST /api/messages/conversations/{id}/messages sends message",
        "POST /api/messages/conversations/{id}/read marks as read",
        "Permission checks ensure only approved users can message",
        "Visibility rules enforced (ventures can only message visible investors/mentors)"
      ],
      "tasks": [
        {
          "summary": "Create conversation serializers",
          "description": "Serializers for conversation list and detail",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create message serializer",
          "description": "Serializer for message creation and display",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create conversation views",
          "description": "List, create, and detail endpoints",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Create message views",
          "description": "Send message and mark as read endpoints",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add permission and visibility checks",
          "description": "Enforce messaging rules",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        },
        {
          "summary": "Implement message editing endpoint",
          "description": "PATCH /api/messages/message/{id} for editing messages within 15 minutes",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Implement conversation deletion endpoint",
          "description": "DELETE /api/messages/conversations/{id}/delete to remove from user inbox",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Implement lazy conversation creation",
          "description": "Support conversation_id='new' for creating conversations on first message",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Implement unread count endpoint",
          "description": "GET /api/messages/conversations/unread-count for global badge",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-601",
      "summary": "Create Match model",
      "description": "Implement Match model for storing computed matches",
      "type": "Story",
      "epic": "VL-6",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Match model with venture, target_type, target_object_id",
        "Score field (0-100)",
        "Reasons JSONField for match explanations",
        "refreshed_at timestamp"
      ],
      "tasks": [
        {
          "summary": "Create Match model",
          "description": "Model for storing match results",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for Match model",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-602",
      "summary": "Implement matching algorithm",
      "description": "Create matching logic to score compatibility between ventures and investors/mentors",
      "type": "Story",
      "epic": "VL-6",
      "priority": "Medium",
      "storyPoints": 13,
      "acceptanceCriteria": [
        "Matching algorithm considers sector/industry overlap",
        "Considers stage preferences for investors",
        "Considers expertise for mentors",
        "Considers needs vs preferences",
        "Generates score (0-100) and reasons",
        "Stores matches in Match table"
      ],
      "tasks": [
        {
          "summary": "Design matching algorithm",
          "description": "Define scoring rules and weights",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Implement matching service",
          "description": "Service class with matching logic",
          "type": "Task",
          "estimate": "8h"
        },
        {
          "summary": "Create Celery task for match computation",
          "description": "Async task to compute all matches",
          "type": "Task",
          "estimate": "4h"
        },
        {
          "summary": "Add match refresh endpoint",
          "description": "POST /api/matches/refresh for admin",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-603",
      "summary": "Implement matches API endpoints",
      "description": "Create endpoints for users to view their matches",
      "type": "Story",
      "epic": "VL-6",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "GET /api/matches/me returns matches for current user",
        "Filter by type (investor/mentor)",
        "Only shows matches respecting visibility rules",
        "Returns score and reasons"
      ],
      "tasks": [
        {
          "summary": "Create match serializer",
          "description": "Serializer for match display",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create matches view",
          "description": "GET endpoint with filtering",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add visibility filtering",
          "description": "Filter matches based on visibility rules",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-604",
      "summary": "Set up Celery beat for nightly match refresh",
      "description": "Configure scheduled task to refresh matches daily",
      "type": "Story",
      "epic": "VL-6",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Celery beat configured",
        "Scheduled task runs nightly",
        "Matches refreshed for all approved ventures"
      ],
      "tasks": [
        {
          "summary": "Configure Celery beat",
          "description": "Set up celery beat in settings",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create periodic task",
          "description": "Schedule match refresh task",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-701",
      "summary": "Create content models",
      "description": "Implement FAQItem, SuccessStory, Resource, ContactInfo models",
      "type": "Story",
      "epic": "VL-7",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "FAQItem model with question, answer, order, published",
        "SuccessStory model with title, summary, venture FK, published",
        "Resource model with category, title, file/url, published",
        "ContactInfo model with contact details"
      ],
      "tasks": [
        {
          "summary": "Create FAQItem model",
          "description": "Model for FAQ items",
          "type": "Task",
          "estimate": "1h"
        },
        {
          "summary": "Create SuccessStory model",
          "description": "Model for success stories",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create Resource model",
          "description": "Model for resources",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Create ContactInfo model",
          "description": "Model for contact information",
          "type": "Task",
          "estimate": "1h"
        },
        {
          "summary": "Create and run migrations",
          "description": "Generate migrations for content models",
          "type": "Task",
          "estimate": "1h"
        }
      ]
    },
    {
      "key": "VL-702",
      "summary": "Implement content API endpoints",
      "description": "Create public endpoints for FAQ, success stories, resources, contacts",
      "type": "Story",
      "epic": "VL-7",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "GET /api/content/faq returns published FAQ items",
        "GET /api/content/success-stories returns published stories",
        "GET /api/content/resources returns published resources with category filter",
        "GET /api/content/contacts returns contact information",
        "All endpoints are public (no auth required)"
      ],
      "tasks": [
        {
          "summary": "Create content serializers",
          "description": "Serializers for all content types",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create content views",
          "description": "List views for all content endpoints",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Add filtering for resources",
          "description": "Category filter for resources endpoint",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-801",
      "summary": "Set up production Docker environment",
      "description": "Create production Docker Compose with Gunicorn and Nginx",
      "type": "Story",
      "epic": "VL-8",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "docker-compose.prod.yml created",
        "Gunicorn configured for Django",
        "Nginx Proxy Manager integration (external)",
        "Static and media files served properly",
        "Environment variables for secrets",
        "Domain configuration for ventureuplink.com",
        "CORS and ALLOWED_HOSTS configured for production"
      ],
      "tasks": [
        {
          "summary": "Create production Dockerfile",
          "description": "Multi-stage Dockerfile optimized for production",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Create docker-compose.prod.yml",
          "description": "Production compose file with all services (nginx service removed, using external Nginx Proxy Manager)",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Configure Gunicorn",
          "description": "Gunicorn configuration file",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Configure for Nginx Proxy Manager",
          "description": "Remove internal nginx service, configure for external Nginx Proxy Manager with domain setup",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Update entrypoint script",
          "description": "Script to run migrations and collectstatic",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Configure production domains",
          "description": "Set up ventureuplink.com, backend.ventureuplink.com, api.ventureuplink.com in ALLOWED_HOSTS and CORS",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "In Progress"
    },
    {
      "key": "VL-802",
      "summary": "Implement security hardening",
      "description": "Add security headers, rate limiting, and security best practices",
      "type": "Story",
      "epic": "VL-8",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Security headers configured (CORS, CSRF, etc.)",
        "Rate limiting on auth endpoints",
        "HTTPS enforced in production",
        "Secret key management via environment variables",
        "Database credentials secured"
      ],
      "tasks": [
        {
          "summary": "Configure security middleware",
          "description": "Add security headers and CSRF settings",
          "type": "Task",
          "estimate": "2h"
        },
        {
          "summary": "Add rate limiting",
          "description": "Rate limit auth endpoints",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Secure environment variables",
          "description": "Ensure all secrets use env vars",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-803",
      "summary": "Set up logging and monitoring",
      "description": "Configure structured logging and basic monitoring",
      "type": "Story",
      "epic": "VL-8",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Structured logging configured",
        "Log levels appropriate for production",
        "Error tracking setup (optional)",
        "Health check endpoint"
      ],
      "tasks": [
        {
          "summary": "Configure Django logging",
          "description": "Set up structured logging",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Create health check endpoint",
          "description": "GET /health endpoint for monitoring",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-804",
      "summary": "Create deployment documentation",
      "description": "Document deployment process and requirements",
      "type": "Story",
      "epic": "VL-8",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "README with setup instructions",
        "Environment variables documented",
        "Deployment guide created",
        "Troubleshooting section"
      ],
      "tasks": [
        {
          "summary": "Create comprehensive README",
          "description": "Document setup and usage",
          "type": "Task",
          "estimate": "3h"
        },
        {
          "summary": "Document environment variables",
          "description": "List all required env vars",
          "type": "Task",
          "estimate": "2h"
        }
      ]
    },
    {
      "key": "VL-805",
      "summary": "Implement Admin Dashboard",
      "description": "Create comprehensive admin dashboard for superuser with platform statistics, user management, and approval workflows",
      "type": "Story",
      "epic": "VL-3",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "Admin dashboard component created in frontend",
        "Overview tab with platform statistics",
        "User management tab (placeholder with Django Admin link)",
        "Approval management tab (placeholder)",
        "Analytics tab (placeholder)",
        "Role-based routing to AdminDashboard for admin users",
        "Link to Django Admin Panel",
        "Responsive design with modern UI"
      ],
      "tasks": [
        {
          "summary": "Create AdminDashboard component",
          "description": "Build React component with tabs for overview, users, approvals, analytics",
          "type": "Task",
          "estimate": "6h",
          "status": "Done"
        },
        {
          "summary": "Implement role-based dashboard routing",
          "description": "Update App.tsx to route admin users to AdminDashboard",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Add admin role support to AuthContext",
          "description": "Update UserRole type and role mapping to include admin",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-806",
      "summary": "Create Demo Accounts System",
      "description": "Implement automatic demo account creation for testing and development",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Management command to create demo accounts",
        "9 demo accounts created (4 ventures, 3 investors, 2 mentors)",
        "All demo accounts use password 'demo123'",
        "Demo accounts auto-created on Docker startup",
        "Demo accounts automatically email-verified",
        "Documentation for demo accounts created"
      ],
      "tasks": [
        {
          "summary": "Create create_demo_accounts management command",
          "description": "Build Django management command to create demo accounts",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Integrate demo account creation in entrypoint.sh",
          "description": "Add demo account creation to Docker entrypoint script",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Document demo accounts",
          "description": "Create DEMO_ACCOUNTS.md with all account credentials",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-807",
      "summary": "Document Role Interconnection System",
      "description": "Create comprehensive documentation for role management between frontend and backend",
      "type": "Story",
      "epic": "VL-1",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Role system architecture documented in refined_project_scope.md (Section 8)",
        "Role implementation details documented in PLATFORM_STATUS.md (Authentication Section)",
        "Role mapping logic documented",
        "Permission system documented",
        "Admin role handling documented"
      ],
      "tasks": [
        {
          "summary": "Create role interconnection analysis document",
          "description": "Document how roles are mapped between frontend and backend",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Create role quick reference guide",
          "description": "Create summary document with role mapping tables and quick links",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-808",
      "summary": "Consolidate Project Documentation",
      "description": "Move all project documentation to working_scope directory and create documentation index",
      "type": "Story",
      "epic": "VL-8",
      "priority": "Medium",
      "storyPoints": 2,
      "acceptanceCriteria": [
        "All project markdown files moved to working_scope/",
        "DOCUMENTATION_INDEX.md created",
        "Documentation structure organized",
        "All documentation links updated"
      ],
      "tasks": [
        {
          "summary": "Move project documentation to working_scope",
          "description": "Move DEMO_ACCOUNTS.md to working_scope/ (role documentation consolidated into project scope and platform status)",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Create documentation index",
          "description": "Create DOCUMENTATION_INDEX.md with links to all documentation",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-809",
      "summary": "Multi-Product Architecture for Ventures",
      "description": "Decouple user registration from product registration. Users can create up to 3 products. Products can be activated/deactivated by users but only admin can delete.",
      "type": "Epic",
      "epic": null,
      "priority": "Highest",
      "storyPoints": 21,
      "acceptanceCriteria": [
        "User registration is separate from product creation",
        "Users can create up to 3 products after email verification",
        "Each product requires separate admin approval",
        "Users can activate/deactivate products",
        "Users cannot delete products (admin only)",
        "Full CRUD operations for products",
        "Product limit validation (max 3)",
        "Updated registration flow",
        "Updated dashboard with product management"
      ],
      "tasks": [
        {
          "summary": "Update data model: Rename VentureProfile to VentureProduct",
          "description": "Rename model and change OneToOneField to ForeignKey",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Add is_active field to VentureProduct",
          "description": "Add BooleanField for user activation/deactivation",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Create database migration for multi-product architecture",
          "description": "Migration to change OneToOne to ForeignKey and add is_active",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update all related models (Founder, TeamMember, etc.)",
          "description": "Change foreign key references from VentureProfile to VentureProduct",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Implement product CRUD endpoints with 3-product limit",
          "description": "Create POST, GET, PATCH endpoints with validation",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Implement product activation/deactivation endpoint",
          "description": "PATCH endpoint for users to toggle is_active",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Implement admin product deletion endpoint",
          "description": "DELETE endpoint (admin only) for product deletion",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update registration flow: Simplify to user-only",
          "description": "Update VentureRegistration to only create user account",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create product creation UI in dashboard",
          "description": "Add product creation inline form to VentureDashboard (per NO_MODALS_RULE - no modals allowed)",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Update dashboard to show product list",
          "description": "Display all user products with status and actions",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Add product activation/deactivation UI",
          "description": "Toggle switch/button for is_active in dashboard",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update admin dashboard: Product management tab",
          "description": "Add product management with admin-only delete",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        }
      ],
      "status": "In Progress"
    },
    {
      "key": "VL-810",
      "summary": "Settings Component - Replace Hardcoded Data with API Integration",
      "description": "Replace all hardcoded/mock data in Settings component with real API calls. Currently, notification settings, privacy settings, account settings, active sessions, data export, and account deletion are using mock data or hardcoded values.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "Notification settings fetched from and saved to API",
        "Privacy settings fetched from and saved to API",
        "Account settings (theme, language, timezone, currency) fetched from and saved to API",
        "Active sessions displayed from real session data API",
        "Data export functionality connected to backend export API",
        "Account deletion connected to backend deletion API",
        "Two-factor authentication implemented (currently shows 'Coming Soon')",
        "All settings persist across sessions",
        "Loading states and error handling for all API calls"
      ],
      "tasks": [
        {
          "summary": "Create backend API endpoints for user settings",
          "description": "Create GET/PATCH /api/settings/notifications, /api/settings/privacy, /api/settings/account endpoints",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API endpoint for active sessions",
          "description": "Create GET /api/settings/sessions endpoint to return user's active login sessions with device info, IP, last activity",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API endpoint for session management",
          "description": "Create DELETE /api/settings/sessions/{session_id} endpoint to allow users to revoke sessions",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API endpoint for data export",
          "description": "Create POST /api/settings/export-data endpoint that generates and emails user data export",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API endpoint for account deletion",
          "description": "Create POST /api/settings/delete-account endpoint with proper confirmation and data deletion",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded notification settings with API calls",
          "description": "Update Settings component to fetch notification settings from API on mount and save changes via API",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded privacy settings with API calls",
          "description": "Update Settings component to fetch privacy settings from API on mount and save changes via API",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded account settings with API calls",
          "description": "Update Settings component to fetch account settings (theme, language, timezone, currency) from API and save changes",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded active sessions with API calls",
          "description": "Update Settings component to fetch active sessions from API and display real session data (device, IP, location, last activity). Remove hardcoded 'Chrome on macOS  Active now' and 'IP: 192.168.1.100'",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Replace mock data export with real API call",
          "description": "Update exportData function to call real API endpoint instead of setTimeout simulation",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Replace mock account deletion with real API call",
          "description": "Update deleteAccount function to call real API endpoint with proper confirmation flow",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Implement two-factor authentication",
          "description": "Replace 'Coming Soon' badge with actual 2FA setup and management functionality",
          "type": "Task",
          "estimate": "8h",
          "status": "Pending"
        },
        {
          "summary": "Create settingsService for frontend",
          "description": "Create settingsService.ts with methods for fetching and updating all settings types",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-811",
      "summary": "Dashboard Components - Replace Hardcoded Data with API Integration",
      "description": "Replace all hardcoded/mock data in dashboard components (AdminDashboard, InvestorDashboard, MentorDashboard, VentureDashboard) with real API calls. Currently, percentage changes, activity feeds, portfolio data, metrics, and calculations are using hardcoded values.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 13,
      "acceptanceCriteria": [
        "AdminDashboard percentage changes calculated from historical data API",
        "AdminDashboard active users count from real user activity API",
        "AdminDashboard charts display real analytics data",
        "InvestorDashboard recent activity from activity feed API",
        "InvestorDashboard portfolio companies from investment tracking API",
        "InvestorDashboard investment opportunities from matching/opportunities API",
        "MentorDashboard recent activity from activity feed API",
        "MentorDashboard active mentees from mentoring relationships API",
        "MentorDashboard monthly hours from session tracking API",
        "VentureDashboard funding metrics from funding tracking API",
        "VentureDashboard pitch deck analytics from analytics API",
        "VentureDashboard activity feed from activity feed API",
        "DocumentViewer displays real document content instead of mock page content"
      ],
      "tasks": [
        {
          "summary": "Create backend API for activity feed",
          "description": "Create GET /api/activity/feed endpoint that returns user activity (messages, matches, sessions, investments, etc.)",
          "type": "Task",
          "estimate": "5h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for historical statistics",
          "description": "Create GET /api/admin/stats/historical endpoint that returns percentage changes and trends over time periods",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for active users calculation",
          "description": "Create GET /api/admin/stats/active-users endpoint that returns count of users active in last 30 days",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for analytics/charts data",
          "description": "Create GET /api/admin/analytics endpoint that returns chart-ready data (role distribution over time, approval trends, etc.)",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for investor portfolio tracking",
          "description": "Create GET /api/investors/portfolio endpoint that returns investor's portfolio companies with investment details, returns, and metrics",
          "type": "Task",
          "estimate": "5h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for investment opportunities",
          "description": "Create GET /api/investors/opportunities endpoint that returns matched investment opportunities for investor",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for mentoring relationships",
          "description": "Create GET /api/mentors/mentees endpoint that returns active mentees with session history, progress, and goals",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for session tracking",
          "description": "Create GET /api/mentors/sessions endpoint that returns session history, monthly hours, and statistics",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for funding tracking",
          "description": "Create GET /api/ventures/funding endpoint that returns funding goal, raised amount, progress, and valuation",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create backend API for pitch deck analytics",
          "description": "Create GET /api/ventures/products/{id}/analytics endpoint that returns views, downloads, average view time, last updated",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded percentage changes in AdminDashboard",
          "description": "Update AdminDashboard statCards to fetch percentage changes from historical stats API instead of hardcoded '+12%', '+3', '+8%', '+15%'",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded active users calculation in AdminDashboard",
          "description": "Update AdminDashboard to fetch active users count from API instead of calculating Math.floor(stats.totalUsers * 0.65)",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Replace placeholder charts in AdminDashboard",
          "description": "Update AdminDashboard analytics tab to display real charts using charting library (e.g., Recharts) with data from analytics API",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded recentActivity in InvestorDashboard",
          "description": "Update InvestorDashboard to fetch recentActivity from activity feed API instead of hardcoded array",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded portfolioCompanies in InvestorDashboard",
          "description": "Update InvestorDashboard to fetch portfolioCompanies from portfolio tracking API instead of hardcoded array",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded investmentOpportunities in InvestorDashboard",
          "description": "Update InvestorDashboard to fetch investmentOpportunities from opportunities API instead of hardcoded array",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded stats in InvestorDashboard",
          "description": "Update InvestorDashboard stats (pipeline: 23, etc.) to fetch from real API endpoints",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded recentActivity in MentorDashboard",
          "description": "Update MentorDashboard to fetch recentActivity from activity feed API instead of hardcoded array",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded activeMentees in MentorDashboard",
          "description": "Update MentorDashboard to fetch activeMentees from mentoring relationships API instead of empty array and remove mockActiveMentees",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Replace hardcoded monthlyHours in MentorDashboard",
          "description": "Update MentorDashboard stats to fetch monthlyHours from session tracking API instead of hardcoded value (12)",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Replace mock page content in DocumentViewer",
          "description": "Update DocumentViewer to display real document content from API instead of mockPageContent array",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create activityService for frontend",
          "description": "Create activityService.ts with methods for fetching activity feeds for all user roles",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Create analyticsService for frontend",
          "description": "Create analyticsService.ts with methods for fetching analytics and chart data",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-812",
      "summary": "Messaging System - Improve UI with Bubble Chat Design",
      "description": "Enhance the messaging system UI to display messages as modern bubble chats with proper alignment (user's messages on right, other party on left), chronological ordering, and improved inbox layout showing all conversations.",
      "type": "Story",
      "epic": "VL-5",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Messages displayed as bubble chats (rounded corners, proper spacing)",
        "User's own messages aligned to the right with distinct styling",
        "Other party's messages aligned to the left with distinct styling",
        "Messages displayed in chronological order (oldest to newest)",
        "Inbox sidebar shows all conversations with other users",
        "Conversation list shows participant names, last message preview, and unread badges",
        "Smooth scrolling to latest message when conversation opens",
        "Proper visual distinction between sent and received messages",
        "Responsive design works on mobile and desktop"
      ],
      "tasks": [
        {
          "summary": "Update message bubble styling for sent messages",
          "description": "Style user's own messages with right alignment, gray background, and proper padding/spacing",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Update message bubble styling for received messages",
          "description": "Style other party's messages with left alignment, muted background, and proper padding/spacing",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Ensure messages are sorted chronologically",
          "description": "Verify messages are displayed in chronological order (oldest first, newest last) and auto-scroll to bottom",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Improve inbox sidebar layout and styling",
          "description": "Enhance conversation list in sidebar with better spacing, hover states, and visual hierarchy",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Add avatar display for messages",
          "description": "Show user avatars next to messages for better visual context",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Add smooth scroll to latest message",
          "description": "Automatically scroll to the latest message when conversation is opened or new message is sent",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Fix unread message badge refresh",
          "description": "Implement callback mechanism for immediate badge update when conversations marked as read",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Implement message editing UI",
          "description": "Add edit functionality for user's own messages within 15-minute time limit",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Implement conversation deletion UI",
          "description": "Add delete conversation option with inline confirmation (per NO_MODALS_RULE - no modals/dialogs allowed)",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-813",
      "summary": "Backend Messaging Architecture - Fix Message Persistence and Formatting",
      "description": "Fix the backend messaging system to ensure messages persist correctly in conversations (threads), are returned in chronological order, and have consistent formatting for the frontend bubble chat UI. Messages should be stored as transactions within conversations, not as standalone messages.",
      "type": "Story",
      "epic": "VL-5",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Messages persist correctly in conversations (threads)",
        "Messages are returned in chronological order (oldest to newest)",
        "MessageSerializer returns sender as string (UUID) consistently",
        "ConversationDetailSerializer includes unread_count field",
        "Messages are properly associated with conversations",
        "Conversation last_message_at is updated when new messages are sent",
        "Unread count is calculated correctly per conversation",
        "Message read_at status is tracked correctly"
      ],
      "tasks": [
        {
          "summary": "Fix MessageSerializer to return sender as string UUID",
          "description": "Ensure MessageSerializer always returns sender as a string UUID (not User object) for consistent frontend consumption",
          "type": "Task",
          "estimate": "1h",
          "status": "In Progress"
        },
        {
          "summary": "Ensure messages are sorted chronologically in ConversationDetailSerializer",
          "description": "Update ConversationDetailSerializer to return messages sorted by created_at ascending (oldest first)",
          "type": "Task",
          "estimate": "1h",
          "status": "In Progress"
        },
        {
          "summary": "Add unread_count to ConversationDetailSerializer",
          "description": "Include unread_count field in ConversationDetailSerializer so frontend can display unread badges in chat view",
          "type": "Task",
          "estimate": "1h",
          "status": "In Progress"
        },
        {
          "summary": "Verify message persistence in conversations",
          "description": "Test and verify that messages are correctly stored and retrieved from conversations, ensuring they persist as chat history",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-823",
      "summary": "Implement Pitch Deck Download/View Endpoints",
      "description": "Investors can see pitch deck metadata but cannot download or view the actual PDF files. Need endpoints for secure pitch deck access with proper access control and tracking.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "GET /api/ventures/products/{id}/documents/{doc_id}/download returns PDF file",
        "GET /api/ventures/products/{id}/documents/{doc_id}/view returns PDF for browser viewing",
        "Only approved investors can access pitch decks",
        "Access is tracked (who viewed, when)",
        "Proper file serving with security headers",
        "404 if document doesn't exist or user doesn't have access"
      ],
      "tasks": [
        {
          "summary": "Create pitch deck download endpoint",
          "description": "GET endpoint that serves PDF file with access control",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create pitch deck view endpoint",
          "description": "GET endpoint that serves PDF for browser viewing with proper headers",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Add access tracking model",
          "description": "Model to track who accessed which pitch deck and when",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Add permission checks to download/view endpoints",
          "description": "Verify user is approved investor and has access to pitch deck",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-824",
      "summary": "Implement Pitch Deck Access Control System",
      "description": "No system to track who can access which pitch decks. Need model and endpoints to manage pitch deck access permissions, allowing ventures to control who can view their pitch decks.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 13,
      "acceptanceCriteria": [
        "Model to track pitch deck access permissions",
        "Endpoint to grant access to specific investors",
        "Endpoint to revoke access",
        "Endpoint to list who has access to a pitch deck",
        "Permission checks enforce access control",
        "Default: All approved investors can access (or configurable)"
      ],
      "tasks": [
        {
          "summary": "Design pitch deck access control model",
          "description": "Model to track which investors have access to which pitch decks",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Create grant access endpoint",
          "description": "POST endpoint for ventures to grant pitch deck access to investors",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        },
        {
          "summary": "Create revoke access endpoint",
          "description": "DELETE endpoint for ventures to revoke pitch deck access",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Create list access endpoint",
          "description": "GET endpoint to list who has access to a pitch deck",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Update download/view endpoints to check access control",
          "description": "Integrate access control checks into pitch deck download/view endpoints",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-825",
      "summary": "Implement Pitch Deck Sharing Workflow",
      "description": "Ventures cannot proactively share pitch decks with specific investors. Need system for ventures to share pitch decks, with notifications to investors.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "POST /api/ventures/products/{id}/documents/{doc_id}/share endpoint",
        "Venture can share pitch deck with specific investor",
        "Investor receives notification (email/in-app)",
        "Shared pitch deck appears in investor's accessible pitch decks",
        "Venture can see sharing history"
      ],
      "tasks": [
        {
          "summary": "Create pitch deck sharing endpoint",
          "description": "POST endpoint for ventures to share pitch deck with investor",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        },
        {
          "summary": "Create investor endpoint to list shared pitch decks",
          "description": "GET /api/investors/shared-pitch-decks endpoint for investors to view pitch decks shared with them",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Update investor dashboard to display shared pitch decks",
          "description": "Add UI section in InvestorDashboard to show pitch decks shared with investor, with 'New' badges and navigation",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        },
        {
          "summary": "Create sharing notification system",
          "description": "Email/in-app notification when pitch deck is shared",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Update frontend to support sharing",
          "description": "Add UI for ventures to share pitch decks with investors",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Fix InvestorDashboard syntax errors",
          "description": "Fixed JSX syntax errors (invalid component reference, missing ternary closures) that caused 500 errors",
          "type": "Bug",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-826",
      "summary": "Implement Pitch Deck Request System",
      "description": "Investors cannot request access to pitch decks from ventures. Need system for investors to request pitch decks, with notification to venture and approval workflow.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 13,
      "acceptanceCriteria": [
        "POST /api/ventures/products/{id}/documents/{doc_id}/request endpoint",
        "Investor can request pitch deck access",
        "Venture receives notification of request",
        "Venture can approve or deny request",
        "Investor receives notification of approval/denial",
        "Request history tracking"
      ],
      "tasks": [
        {
          "summary": "Design pitch deck request model",
          "description": "Model to track pitch deck requests from investors",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create request endpoint",
          "description": "POST endpoint for investors to request pitch deck access",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create approval/denial endpoints",
          "description": "POST endpoints for ventures to approve or deny requests",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Create notification system",
          "description": "Email/in-app notifications for requests and approvals",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Update frontend to support requests",
          "description": "Add UI for investors to request pitch decks and ventures to manage requests",
          "type": "Task",
          "estimate": "5h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-829",
      "summary": "Investment Commitment & Deal Workflow",
      "type": "Story",
      "description": "Complete workflow for investor commitments and venture acceptance/renegotiation. When venture accepts a commitment, it becomes a deal.",
      "acceptanceCriteria": [
        "Investor can commit to invest with amount and message",
        "Venture can view all commitments for their products",
        "Venture can accept commitment (creates deal)",
        "Venture can request renegotiation (soft rejection with message)",
        "Investor sees deal status in portfolio and shared pitch decks",
        "Accepted commitments show as deals in both dashboards"
      ],
      "tasks": [
        {
          "summary": "Extend InvestmentCommitment model with venture response fields",
          "description": "Add venture_response (PENDING, ACCEPTED, RENEGOTIATE), venture_response_at, venture_response_message, responded_by fields",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Create backend endpoint to list product commitments",
          "description": "GET /api/ventures/products/{product_id}/commitments - List all commitments for a product (venture only)",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Create backend endpoint to accept commitment",
          "description": "POST /api/ventures/products/{product_id}/commitments/{commitment_id}/accept - Accept commitment (creates deal)",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Create backend endpoint to renegotiate commitment",
          "description": "POST /api/ventures/products/{product_id}/commitments/{commitment_id}/renegotiate - Request renegotiation with message",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Update portfolio endpoint to include venture response",
          "description": "Update GET /api/investors/portfolio to include venture_response, is_deal fields",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Add frontend service methods for commitment management",
          "description": "Add getProductCommitments, acceptCommitment, renegotiateCommitment to productService",
          "type": "Task",
          "estimate": "1h",
          "status": "In Progress"
        },
        {
          "summary": "Update VentureDashboard to show commitments and accept/renegotiate",
          "description": "Add commitments section with accept/renegotiate actions",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Update InvestorDashboard to show deal status",
          "description": "Show venture_response and is_deal status in portfolio and shared pitch decks",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "In Progress"
    },
    {
      "key": "VL-828",
      "summary": "Implement Pitch Deck Analytics",
      "description": "Ventures cannot see pitch deck performance metrics (views, downloads, access). Need system to track and display pitch deck analytics.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "Model to track pitch deck access events",
        "GET /api/ventures/products/{id}/documents/{doc_id}/analytics endpoint",
        "Track views, downloads, unique viewers",
        "Track access timestamps and user information",
        "Frontend displays analytics in dashboard"
      ],
      "tasks": [
        {
          "summary": "Design pitch deck analytics model",
          "description": "Model to track pitch deck access events (views, downloads)",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Create analytics endpoint",
          "description": "GET endpoint to retrieve pitch deck analytics",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Integrate analytics tracking",
          "description": "Track access events in download/view endpoints",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Update frontend to display analytics",
          "description": "Add analytics UI to VentureDashboard and ProductManagement",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-829",
      "summary": "Enhance Pitch Deck Metadata Validation",
      "description": "Additional validation for pitch deck metadata fields, including traction metrics structure and funding amount format validation.",
      "type": "Story",
      "epic": "VL-3",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Traction metrics structure validation (ensure proper JSON structure)",
        "Funding amount format validation (currency, ranges)",
        "All metadata fields have comprehensive validation"
      ],
      "tasks": [
        {
          "summary": "Add traction metrics structure validation",
          "description": "Validate traction metrics JSON structure and data types",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Add funding amount format validation",
          "description": "Validate funding amount format (currency symbols, ranges, etc.)",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-830",
      "summary": "Implement Pitch Deck Versioning System",
      "description": "No versioning system for pitch decks. Ventures cannot track pitch deck history or manage multiple versions. Need version tracking and management UI.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "Model to track pitch deck versions",
        "Version number assignment (auto-increment)",
        "UI to view version history",
        "UI to compare versions",
        "Ability to restore previous versions"
      ],
      "tasks": [
        {
          "summary": "Design pitch deck versioning model",
          "description": "Model to track pitch deck versions and history",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Implement version tracking",
          "description": "Auto-increment version numbers and track changes",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create version history UI",
          "description": "Frontend UI to view and compare pitch deck versions",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-832",
      "summary": "Fix Venture Users Unread Message Badge Issue",
      "description": "Venture users still show badge of unread messages when there are no unread messages. This causes confusing UX where users see notification badge but no actual unread messages in inbox. Need to investigate why venture users see incorrect unread count and fix badge display to match actual unread messages.",
      "type": "Story",
      "epic": "VL-5",
      "priority": "Medium",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Unread message badge accurately reflects actual unread messages for venture users",
        "Badge count matches messages visible in inbox",
        "Unread count calculation is consistent across all user roles",
        "No false positive badge displays"
      ],
      "tasks": [
        {
          "summary": "Investigate unread count calculation for venture users",
          "description": "Debug why venture users see incorrect unread count in badge",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Fix badge display logic",
          "description": "Ensure badge only shows when there are actual unread messages",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-833",
      "summary": "Fix Venture Profile Data Persistence - EditProfile Not Saving to Backend",
      "description": "Venture users can edit their profile information (company name, website, LinkedIn URL, sector, address, etc.) through the EditProfile component, but this data is NOT being saved to the backend. The data only exists in frontend React state and is lost on page refresh. This is a critical UX issue - users expect their data to be saved. See VENTURES_CRUD_STATUS.md Section 11 for detailed analysis.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 13,
      "acceptanceCriteria": [
        "VentureProfile model created (similar to InvestorProfile/MentorProfile)",
        "GET /api/ventures/profile/me endpoint returns user's profile data",
        "PATCH /api/ventures/profile/me endpoint saves profile data to backend",
        "EditProfile component calls API to save data on submit",
        "UserProfile component fetches and displays profile data from API",
        "Profile data persists across page refreshes",
        "All profile fields (companyName, website, linkedinUrl, sector, etc.) are saved",
        "Validation and sanitization for all profile fields",
        "Profile data displays correctly in profile view"
      ],
      "tasks": [
        {
          "summary": "Create VentureProfile model in backend",
          "description": "Create VentureProfile model with fields matching EditProfile form (companyName, website, linkedinUrl, sector, address, foundedYear, employeeCount, shortDescription, phone, logo, founder info, etc.)",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create VentureProfile serializers",
          "description": "Create VentureProfileSerializer (for GET) and VentureProfileUpdateSerializer (for PATCH) with validation and sanitization",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Create VentureProfile API endpoints",
          "description": "Create GET /api/ventures/profile/me and PATCH /api/ventures/profile/me endpoints with VentureProfileCreateUpdateView class",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Add VentureProfile routes to urls.py",
          "description": "Add profile endpoints to backend/apps/ventures/urls.py",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Create database migration for VentureProfile",
          "description": "Generate and run migration for new VentureProfile model",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Update ventureService with profile methods",
          "description": "Add getMyProfile() and updateProfile(data) methods to frontend/src/services/ventureService.ts",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update EditProfile to save to backend",
          "description": "Update EditProfile.handleSubmit() to call ventureService.updateProfile() API instead of only updating local state",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Update UserProfile to fetch from API",
          "description": "Update UserProfile component to fetch profile data from API on mount and display it (already has priority logic, just needs API integration)",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update AuthContext to optionally fetch profile",
          "description": "Optionally fetch profile data on login/checkAuth to populate user.profile in state",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Test profile persistence",
          "description": "Test that profile data saves correctly, persists after refresh, and displays in profile view",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-834",
      "summary": "Centralize Role Mapping - Remove Code Duplication",
      "description": "Role mapping logic exists in multiple places (AuthContext, registration forms, etc.). Should be centralized in utility functions. Create utils/roleMapper.ts in frontend and shared/role_utils.py in backend. See PLATFORM_STATUS.md Tech Debt section for details.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Low",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Role mapping centralized in frontend utility function",
        "Role mapping centralized in backend utility function",
        "All existing code updated to use centralized functions",
        "No duplicate role mapping logic remains"
      ],
      "tasks": [
        {
          "summary": "Create frontend roleMapper utility",
          "description": "Create utils/roleMapper.ts with functions to convert between backend and frontend role formats",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Create backend role_utils utility",
          "description": "Create shared/role_utils.py with functions for role validation and conversion",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Update AuthContext to use roleMapper",
          "description": "Replace inline role mapping with utility function calls",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        },
        {
          "summary": "Update registration forms to use roleMapper",
          "description": "Replace inline role conversion with utility function calls",
          "type": "Task",
          "estimate": "1h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-835",
      "summary": "Implement Full Role-Based Permission Enforcement",
      "description": "Backend doesn't fully enforce role-based access on all endpoints. Need to apply permission classes to all relevant endpoints, implement role-specific profile access enforcement, and add admin-only endpoints. See PLATFORM_STATUS.md Tech Debt section for details.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "All API endpoints have appropriate permission classes",
        "Role-specific profile access enforcement implemented",
        "Admin-only endpoints properly protected",
        "Permission checks tested and verified"
      ],
      "tasks": [
        {
          "summary": "Audit all endpoints for permission classes",
          "description": "Review all API endpoints and identify which need permission classes",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Apply permission classes to all endpoints",
          "description": "Add IsAuthenticated, IsApprovedUser, IsAdminOrReviewer as appropriate",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Implement role-specific profile access",
          "description": "Ensure users can only access profiles they're allowed to see based on role",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Add admin-only endpoint protection",
          "description": "Ensure admin-only endpoints are properly protected with IsAdminOrReviewer",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-836",
      "summary": "Add Frontend Permission Checks",
      "description": "Frontend doesn't check permissions before API calls. Need to add role-based UI element visibility, permission checks before API calls, and admin-only features gating. See PLATFORM_STATUS.md Tech Debt section for details.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Role-based UI element visibility implemented",
        "Permission checks before API calls added",
        "Admin-only features properly gated",
        "Better UX with permission-aware UI"
      ],
      "tasks": [
        {
          "summary": "Create permission utility functions",
          "description": "Create utils/permissions.ts with functions to check user permissions",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Add role-based UI visibility",
          "description": "Update components to show/hide elements based on user role",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Add permission checks to API service",
          "description": "Update API service to check permissions before making calls",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Gate admin-only features",
          "description": "Ensure admin-only features are only visible/accessible to admin users",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-837",
      "summary": "Connect Admin Dashboard to Real API Endpoints",
      "description": "Admin dashboard UI exists but not connected to real API endpoints. Need to connect user management, approval workflow UI, real-time analytics charts, and user search/filtering. See PLATFORM_STATUS.md Tech Debt section for details.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "Medium",
      "storyPoints": 8,
      "acceptanceCriteria": [
        "User management tab connected to real API",
        "Approval workflow UI functional",
        "Real-time analytics charts displaying data",
        "User search and filtering working"
      ],
      "tasks": [
        {
          "summary": "Connect user management to API",
          "description": "Update AdminDashboard user management tab to use real API endpoints",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Implement approval workflow UI",
          "description": "Create functional approval workflow interface connected to API",
          "type": "Task",
          "estimate": "5h",
          "status": "Pending"
        },
        {
          "summary": "Add real-time analytics charts",
          "description": "Connect analytics tab to real API and display charts",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Implement user search and filtering",
          "description": "Add search and filter functionality to user management",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    }
    ,
    {
      "key": "VL-838",
      "summary": "Venture Profile UX Polish - Add Save Feedback + Field-Level API Validation Errors",
      "description": "Venture profile view/edit flows can feel stalled or unclear: some API failures only log to console, and backend validation errors are not consistently surfaced at the field level. Improve feedback for loading/saving, and map backend validation errors (400 responses) to specific form fields so users know what to fix.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Venture profile view shows a clear inline error state when profile fetch fails (not only console logs)",
        "Edit Profile shows field-level errors returned by the backend (400) mapped to the correct inputs",
        "Successful saves show clear confirmation (toast + optional 'Saved' indicator) and prevent double-submit",
        "All venture profile-related API calls use correct endpoints and provide user feedback on failure"
      ],
      "tasks": [
        {
          "summary": "Add inline error UI for venture profile load failures in UserProfile",
          "description": "When venture profile/products fetch fails in UserProfile, show a non-blocking inline error banner and a retry action (instead of only console.error).",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Map backend validation errors to EditProfile field errors (venture)",
          "description": "Parse DRF 400 responses from venture profile PATCH/POST and set `errors` state per field (e.g., website/linkedin_url format, required fields). Keep toast for summary but highlight exact fields.",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Add clear 'Saved' feedback state after successful venture profile save",
          "description": "In EditProfile, after successful save show a transient 'Saved' state (in addition to toast) to reduce uncertainty, and ensure the Save button is disabled while saving.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Audit and normalize venture profile terminology and sources in UserProfile",
          "description": "UserProfile currently merges data from ventureProfile API + products + local profile state. Document and normalize priority order and ensure it doesn't show stale values after save/refresh.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Fix/verify pitch deck upload endpoint usage in venture services",
          "description": "Ensure all pitch deck upload calls use POST /api/ventures/products/{product_id}/documents/pitch-deck. Remove or update any legacy endpoints and confirm frontend services align with backend routes.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-839",
      "summary": "Tech Debt: Venture Investors List Shows Mock Users / Misses Registered Investors",
      "description": "On `/dashboard/venture/investors` in production, ventures see demo/mock investors but not newly registered investors. Backend `GET /api/investors/public` currently filters InvestorProfile to `status in (APPROVED, SUBMITTED)` and (for venture users) further restricts results to `visible_to_ventures=True` OR `InvestorVisibleToVenture` grants. This means real registered investors will not appear if they remain `DRAFT` (never submitted) and/or default `visible_to_ventures` is false. Separately, `frontend/src/components/MockData.ts` still contains `mockInvestors` and may be leaking into the prod UI through an unintended fallback path; this needs an audit so production never renders mock users.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "Production `/dashboard/venture/investors` shows only real investors returned from API (no MockData fallback)",
        "Registered investors are visible when expected (document and enforce the visibility rules: SUBMITTED/APPROVED + visibility flags)",
        "Clear UX guidance exists for investors if they must submit profile and/or opt into visibility before appearing to ventures",
        "Backend and frontend behavior is consistent and documented"
      ],
      "tasks": [
        {
          "summary": "Audit venture investors UI for any MockData fallback",
          "description": "Trace the `/dashboard/venture/investors` route/component tree and verify that no code path imports/uses `mockInvestors` (or demo login users) in production. Remove/guard any fallback to MockData so prod always depends on API results.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Confirm investor registration workflow sets correct visibility + status transitions",
          "description": "Verify defaults for `InvestorProfile.visible_to_ventures` and how/when `InvestorProfile.status` transitions from DRAFT  SUBMITTED (via `/api/investors/profile/submit`) and SUBMITTED  APPROVED. Document why registered investors might not appear to ventures and add UI prompts if submission/visibility is required.",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Backend: document/adjust `/api/investors/public` visibility rules",
          "description": "Review `backend/apps/investors/views.py` `PublicInvestorListView.get_queryset()` filtering: status in (APPROVED,SUBMITTED) + venture-only `visible_to_ventures` or `InvestorVisibleToVenture` grants. Decide intended product behavior (e.g., should SUBMITTED be visible? should DRAFT ever be visible? should default `visible_to_ventures` be true?) and implement + document accordingly.",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        }
      ],
      "status": "Pending"
    },
    {
      "key": "VL-840",
      "summary": "Tech Debt: Missing Admin Operations for Investor/Mentor Profile Approvals (separate from pitch deck approvals)",
      "description": "Admin needs a first-class workflow to approve/reject INVESTOR and MENTOR profiles. Today, the admin dashboards approvals experience is heavily optimized for venture pitch deck/product reviews (separate workflow) and does not provide an explicit, reviewable investor/mentor profile approval surface (profile data to review + dedicated review screen). Backend already has a generic `ReviewRequest` workflow and `/api/reviews/pending|<id>|<id>/approve|<id>/reject` that can handle investor and mentor profiles when their profile status is SUBMITTED, but the frontend does not expose a clear investor/mentor profile review UX, and the approvals serializer payload is pitch-deck-centric (no investor/mentor profile fields), so admins cant meaningfully approve/reject those profiles from the UI.",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Admin can view pending INVESTOR profile submissions with relevant profile fields (not just name/email) and approve/reject them",
        "Admin can view pending MENTOR profile submissions with relevant profile fields (not just name/email) and approve/reject them",
        "Pitch deck/product approvals remain intact and clearly separated from user profile approvals (no conflation in UX or labels)",
        "Approvals list supports filtering by type/role and is backed by `/api/reviews/pending?type=INVESTOR|MENTOR|VENTURE`"
      ],
      "tasks": [
        {
          "summary": "Backend: extend approvals serializer to include investor/mentor profile review fields",
          "description": "Update `backend/apps/approvals/serializers.py` `ApprovalItemSerializer` to include relevant fields when `ReviewRequest.content_object` is an `InvestorProfile` or `MentorProfile` (e.g., full_name, organization_name, linkedin/website, email/phone, experience, preferences, visible_to_ventures, submitted_at). This is required so admin can make a decision based on actual profile content.",
          "type": "Task",
          "estimate": "4h",
          "status": "Pending"
        },
        {
          "summary": "Frontend: add dedicated profile review screen for investor/mentor submissions (no modals)",
          "description": "Create a new admin route/screen similar to pitch deck review (opens in a new tab) for INVESTOR/MENTOR profile reviews. Display all profile fields from the approvals payload and provide Approve/Reject actions (with rejection reason). Ensure this is not confused with pitch deck approvals.",
          "type": "Task",
          "estimate": "5h",
          "status": "Pending"
        },
        {
          "summary": "Frontend: update ApprovalsManagementTab to route investor/mentor items to the profile review screen",
          "description": "In `frontend/src/components/ApprovalsManagementTab.tsx`, keep the pitch deck special-case, but for INVESTOR/MENTOR approvals add a \"View Details\" action that opens the new profile review screen in a new tab with `reviewId` + `userId` params. Keep inline approve/reject if desired, but ensure admins can always inspect the full profile before deciding.",
          "type": "Task",
          "estimate": "3h",
          "status": "Pending"
        },
        {
          "summary": "Frontend: support approvals filtering via `type` query param",
          "description": "Update `frontend/src/services/adminService.ts` `getPendingApprovals()` to accept an optional `type` (VENTURE/INVESTOR/MENTOR) and call `/api/reviews/pending?type=...`. Use this to power clearer filters/sections so user profile approvals dont get buried under pitch deck approvals.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Frontend: unify admin approvals view for all pending items",
          "description": "Ensure `/dashboard/admin/approvals` lists all pending ReviewRequests (ventures/pitch decks, investors, mentors) without requiring separate navigation. Users can open each approval into the dedicated review pages (pitch deck review or profile review) from this list.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Frontend: add admin user detail view + tab sync",
          "description": "Add `/dashboard/admin/user-view?userId=...` to inspect user accounts (email, role, status, verification) and show full role-specific profile context (venture company + sector + needs, investor preferences + ticket size + visibility, mentor expertise + industries + availability). Replace table 'Review Profile' with a generic eye 'View' action for all users. Keep profile approval (investor/mentor) flows in approvals screens.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Backend: auto-submit investor/mentor profiles on creation",
          "description": "Update `InvestorProfileCreateUpdateView.create()` and `MentorProfileCreateUpdateView.create()` to automatically set `status='SUBMITTED'`, set `submitted_at`, and create a `ReviewRequest` when a profile is created. This ensures all new investor/mentor profiles immediately appear in `/dashboard/admin/approvals` without requiring users to manually click 'Submit for approval'. Also update serializer validation to allow updates to SUBMITTED profiles (so users can fix issues before admin reviews).",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Backend: implement upsert pattern for investor/mentor profile updates",
          "description": "Fixed: Updated `InvestorProfileCreateUpdateView.update()` and `MentorProfileCreateUpdateView.update()` to automatically create a profile if it doesn't exist when PATCH `/api/investors/profile/me` or `/api/mentors/profile/me` is called. This handles edge cases where profile creation failed during registration (e.g., validation errors that were caught but didn't block account creation). The update method now uses the create serializer to validate and create the profile if missing, then automatically submits it for approval. This prevents users from being stuck with an account but no profile, unable to edit their profile because it doesn't exist.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Frontend: fix investor/mentor profile update payload mapping",
          "description": "Fixed: Updated `EditProfile.tsx` investor and mentor profile update payloads to include required email fields (`email` for investors, `contact_email` for mentors) and ensure `investment_experience_years` is always a number (never null). The forms were missing email fields in the payloads and sending `null` for `investment_experience_years`, causing backend validation errors. For investors, the form doesn't have a field for years of experience (only a textarea for description), so we default to 0. Future enhancement: Add a proper input field for `investment_experience_years` (number of years) to the EditProfile form for investors.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Pending"
    }
  ],
  "bugs": [
    {
      "summary": "Investor profile PATCH /api/investors/profile/me returns 500 UnboundLocalError",
      "description": "Fix: `InvestorProfileCreateUpdateView.update()` raised `UnboundLocalError: cannot access local variable 'ContentType' where it is not associated with a value` when creating an investor profile via PATCH `/api/investors/profile/me`. Root cause was a local `from django.contrib.contenttypes.models import ContentType` inside the `if was_rejected` block, which shadowed the module-level `ContentType` import and caused reads earlier in the function (for the upsert branch) to fail. Removed the inner import and now rely solely on the module-level import. Applied the same fix to `MentorProfileCreateUpdateView.update()` for consistency.",
      "type": "Bug",
      "status": "Fixed"
    }
  ],
  "techDebt": [
    {
      "key": "VL-841",
      "summary": "Tech Debt: Investor Profile CRUD - Incomplete Profile View and Missing Toast Notifications",
      "description": "Multiple issues identified in investor profile CRUD workflow:\n\n1. **Profile View Not Using API Data**: `UserProfile.renderInvestorProfile()` only uses `investor.profile` (from user prop) and ignores `ventureProfile` state that contains fetched API data. Unlike `renderVentureProfile()` which properly uses API data when `isOwnProfile=true`, `renderInvestorProfile()` doesn't have this logic, causing empty/minimal profile displays.\n\n2. **Toast Notifications Not Showing**: `Toaster` component from `sonner` is not rendered in the app root (`AppWithRouter.tsx`), so `toast.success()` calls in `EditProfile.tsx` don't display. Users get no feedback when saving profiles.\n\n3. **Missing Loading States**: `UserProfile` shows loading state only for venture profiles (`isLoadingProducts || isLoadingProfile`), but not for investor/mentor profiles when `isLoadingProfile` is true.\n\n4. **Incomplete Data Mapping**: Profile view doesn't display all available fields from API:\n   - `investment_experience_years` (shown in admin view but not user profile view)\n   - `deals_count` (shown in admin view but not user profile view)\n   - Proper mapping of `industry_preferences` and `stage_preferences` from API response\n   - Contact email from API profile vs user.email\n\n5. **Data Flow Issues**: After profile update via `EditProfile`, the updated data is passed to `onProfileUpdate` callback, but `UserProfile` component fetches fresh data from API and stores it in `ventureProfile`, which `renderInvestorProfile` doesn't use.\n\n6. **Field Name Inconsistencies**: Frontend uses different field names than backend API:\n   - Frontend: `profile.organizationName`, `profile.linkedinUrl`, `profile.investmentStages`\n   - Backend API: `organization_name`, `linkedin_or_website`, `stage_preferences`\n   - Mapping happens in `EditProfile.onProfileUpdate` but not consistently used in `UserProfile.renderInvestorProfile`\n\n**Impact**:\n- Users see empty/minimal profile data when viewing their own investor profile\n- No visual feedback when saving profile changes\n- Poor user experience and confusion about whether data was saved\n- Missing profile information that exists in the database\n\n**Files Affected**:\n- `frontend/src/components/UserProfile.tsx` - Profile rendering logic\n- `frontend/src/components/EditProfile.tsx` - Profile update and toast notifications\n- `frontend/src/AppWithRouter.tsx` - Missing Toaster component\n- `frontend/src/components/ui/sonner.tsx` - Toaster component (needs theme dependency fix)",
      "type": "Story",
      "epic": "VL-2",
      "priority": "High",
      "storyPoints": 5,
      "acceptanceCriteria": [
        "Investor profile view displays all profile data from API (organization, industries, stages, experience years, deals count, contact info)",
        "Toast notifications appear when saving profile changes",
        "Loading states shown for investor/mentor profiles when fetching data",
        "Profile view uses API data (`ventureProfile`) when `isOwnProfile=true`, similar to venture profile logic",
        "All backend API fields are properly mapped to frontend display fields",
        "Profile updates trigger refresh of profile view data"
      ],
      "tasks": [
        {
          "summary": "Fix UserProfile.renderInvestorProfile to use API data (ventureProfile)",
          "description": "Update `renderInvestorProfile()` to prioritize `ventureProfile` API data when `isOwnProfile=true`, similar to how `renderVentureProfile()` works. Map all API response fields (organization_name, industry_preferences, stage_preferences, investment_experience_years, deals_count, linkedin_or_website, email, phone) to display fields.",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Add Toaster component to app root",
          "description": "Import and render `<Toaster />` component in `AppWithRouter.tsx` so toast notifications from `EditProfile.tsx` and other components are displayed. Fix `sonner.tsx` to work without next-themes dependency or install next-themes if theme support is needed.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Add loading states for investor/mentor profiles",
          "description": "Update `UserProfile` component to show loading spinner when `isLoadingProfile` is true for investor and mentor profiles, not just venture profiles.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Display all investor profile fields in profile view",
          "description": "Add display of `investment_experience_years` and `deals_count` fields in `renderInvestorProfile()`. Ensure all fields from API response are shown: organization, industries, stages, ticket size, experience, deals count, contact info.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Ensure profile view refreshes after edit",
          "description": "After `EditProfile` saves profile and calls `onProfileUpdate`, ensure `UserProfile` component refetches profile data from API or properly updates `ventureProfile` state. Consider adding a refresh mechanism or ensuring the useEffect dependencies trigger a refetch.",
          "type": "Task",
          "estimate": "2h",
          "status": "Pending"
        },
        {
          "summary": "Add bio, investment_experience, and address fields to InvestorProfile model and display",
          "description": "The EditProfile form collects `bio` and `investmentExperience` (text fields) but they were not being saved to the backend. Added `bio` (TextField), `investment_experience` (TextField), and `address` (CharField) to InvestorProfile model. Updated serializers to include these fields with validation. Updated EditProfile to save these fields to backend. Updated UserProfile to display bio and investment_experience from API. Updated AdminUserView to show these fields in categorized sections. Created database migration (needs to be run).",
          "type": "Task",
          "estimate": "4h",
          "status": "Done"
        },
        {
          "summary": "Fix investor profile view to display all fields from edit form",
          "description": "The investor profile view page (`/dashboard/investor/profile`) was not showing all fields that are available in the edit form (`/dashboard/investor/edit-profile`). Updated `UserProfile.renderInvestorProfile()` to display: investor type, min/max investment range (if available), website separately from LinkedIn, location/address, and all other fields from the edit form. Ensured proper field mapping from API data and profile fallbacks. Profile view now matches edit form fields completely.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Complete investor profile API parity - Add all missing fields from edit form to backend",
          "description": "Implemented full parity between investor edit form (`/dashboard/investor/edit-profile`) and backend InvestorProfile API. The form collected many fields that were not persisted in the backend, causing data loss.\n\n**Backend Changes:**\n- Added `investor_type` field (INDIVIDUAL, FIRM, CORPORATE, FAMILY_OFFICE) to InvestorProfile model\n- Added `website` and `linkedin_url` as separate fields (backward compatible with `linkedin_or_website`)\n- Added `min_investment` and `max_investment` fields (CharField, max 50 chars)\n- Added `geographic_focus` field (JSONField, list of regions)\n- Added `investment_philosophy` field (TextField, max 5000 chars)\n- Added `notable_investments` field (TextField, max 5000 chars)\n- Added `allow_direct_contact` field (BooleanField, default True)\n- Updated all serializers (InvestorProfileSerializer, InvestorProfileCreateSerializer, InvestorProfileUpdateSerializer) to include new fields\n- Added validation for all new fields (URL validation, length limits, type validation)\n- Created migration `0004_add_complete_investor_profile_fields.py`\n\n**Frontend Changes:**\n- Updated `investorService.ts` TypeScript interfaces to include all new fields\n- Updated `EditProfile.tsx` to:\n  - Load all new fields from API when opening edit form\n  - Save all new fields to backend (with proper field name mapping: investorType  investor_type, etc.)\n  - Map frontend field names (individual/firm/corporate/family-office) to backend (INDIVIDUAL/FIRM/CORPORATE/FAMILY_OFFICE)\n- Updated `UserProfile.tsx` to display all new fields:\n  - Investor type in Investment Focus section\n  - Min/Max investment range\n  - Geographic focus badges\n  - Investment philosophy in Background section\n  - Notable investments in Background section\n  - Separate website and LinkedIn links\n- Updated `AdminUserView.tsx` to show all new fields in categorized sections:\n  - Investor type in Basic Information\n  - Separate website and LinkedIn in Basic Information\n  - Min/Max investment in Investment Focus\n  - Geographic focus in Investment Preferences\n  - Investment philosophy and Notable investments in Professional Background\n  - Allow direct contact flag\n- Updated `adminService.ts` InvestorProfileSummary interface to include all new fields\n\n**Field Mapping:**\n- Frontend `investorType` (individual/firm/corporate/family-office)  Backend `investor_type` (INDIVIDUAL/FIRM/CORPORATE/FAMILY_OFFICE)\n- Frontend `minInvestment`  Backend `min_investment`\n- Frontend `maxInvestment`  Backend `max_investment`\n- Frontend `geographicFocus[]`  Backend `geographic_focus[]`\n- Frontend `investmentPhilosophy`  Backend `investment_philosophy`\n- Frontend `notableInvestments`  Backend `notable_investments`\n- Frontend `allowDirectContact`  Backend `allow_direct_contact`\n- Frontend `website`  Backend `website`\n- Frontend `linkedinUrl`  Backend `linkedin_url`\n\n**Migration:**\n- Migration file: `apps/investors/migrations/0004_add_complete_investor_profile_fields.py`\n- Run: `docker-compose exec web python manage.py migrate investors`\n\n**Result:**\n- All fields from investor edit form are now persisted in backend\n- Profile view displays all fields from edit form\n- Admin view shows all fields in organized sections\n- No data loss - all form fields are saved and displayed",
          "type": "Task",
          "estimate": "6h",
          "status": "Done"
        }
      ],
      "status": "In Progress"
    },
    {
      "key": "VL-843",
      "summary": "Tech Debt: Login loop issue with httpOnly cookies",
      "description": "After implementing httpOnly cookies for secure token storage, login page gets stuck in a loop. The issue occurs because:\n\n1. `checkAuth` useEffect runs on mount and calls `/api/auth/me`\n2. On login page, this fails (no cookies yet) and sets user to null\n3. After successful login, cookies are set but there might be timing issues\n4. The redirect logic in AppWithRouter might be interfering\n5. Cookie domain might not be set correctly for cross-subdomain (frontend.ventureuplink.com vs backend.ventureuplink.com)\n\n**Root Causes:**\n- `checkAuth` runs on all pages including login page, causing unnecessary API calls\n- No guard to prevent auth check on public pages (login, register, etc.)\n- Cookie domain not set for cross-subdomain support in production\n- Race condition between cookie setting and user data fetch\n- Redirect logic doesn't wait for auth check to complete\n\n**Fix:**\n- Skip `checkAuth` on public pages (login, register, forgot-password, etc.)\n- Set cookie domain to `.ventureuplink.com` for cross-subdomain support\n- Add small delay after login before fetching user data\n- Update redirect logic to wait for auth check completion\n- Better error handling to prevent loops",
      "type": "Story",
      "epic": "VL-1",
      "priority": "High",
      "storyPoints": 2,
      "acceptanceCriteria": [
        "Login page does not trigger auth check on mount",
        "No redirect loops when logging in",
        "Cookies work correctly across subdomains (frontend.ventureuplink.com and backend.ventureuplink.com)",
        "Login flow completes successfully without getting stuck",
        "Auth check only runs on protected pages, not public pages"
      ],
      "tasks": [
        {
          "summary": "Skip auth check on public pages (login, register, etc.)",
          "description": "Updated `AuthContext.tsx` checkAuth useEffect to skip authentication check on public pages (`/login`, `/register`, `/forgot-password`, `/reset-password`, `/verify-email`). This prevents unnecessary API calls and potential loops.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Set cookie domain for cross-subdomain support",
          "description": "Updated backend cookie settings to use `.ventureuplink.com` domain in production, allowing cookies to work across `frontend.ventureuplink.com` and `backend.ventureuplink.com` subdomains. In development (localhost), domain is not set (browser handles it).",
          "type": "Task",
          "estimate": "30m",
          "status": "Done"
        },
        {
          "summary": "Add delay after login before fetching user data",
          "description": "Added 100ms delay after login before calling `getCurrentUser()` to ensure cookies are properly set by the browser before making the request.",
          "type": "Task",
          "estimate": "15m",
          "status": "Done"
        },
        {
          "summary": "Update redirect logic to wait for auth check",
          "description": "Updated `AppWithRouter.tsx` redirect logic to wait for `isLoading` to complete before redirecting. Also added guards to prevent redirects on public pages.",
          "type": "Task",
          "estimate": "30m",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-842",
      "summary": "Optimize authentication: Reduce API calls using JWT token decoding and increase rate limits",
      "description": "Frontend was calling `/api/auth/me` excessively (on every page load, navigation, component mount), causing rate limiting errors (429 Too Many Requests). JWT tokens already contain user information (id, email, role), so we can decode them client-side to avoid unnecessary API calls. Also increased rate limit for `/api/auth/me` endpoint to prevent legitimate users from hitting limits.\n\n**Problem:**\n- Frontend called `/api/auth/me` on every app mount, navigation, and component render\n- Default rate limit of 100 requests/hour was too restrictive for frequently-called endpoint\n- Users experienced 429 errors during normal app usage\n- Unnecessary API calls slowed down app performance\n\n**Solution:**\n1. Created JWT token utility to decode tokens client-side (no API call needed)\n2. Updated AuthContext to use token decoding for initial auth check\n3. Only call `/api/auth/me` when actually needed (after login, registration, or explicit refresh)\n4. Increased rate limit for `/api/auth/me` from 100/hour to 1000/hour\n\n**Backend Changes:**\n- Created `CurrentUserRateThrottle` class in `shared/throttles.py` (1000 requests/hour)\n- Added `'current_user': '1000/hour'` to `DEFAULT_THROTTLE_RATES` in settings\n- Applied `@throttle_classes([CurrentUserRateThrottle])` to `get_current_user` view\n\n**Frontend Changes:**\n- Created `frontend/src/utils/jwt.ts` with JWT decoding utilities:\n  - `decodeJWT()` - Decodes JWT tokens client-side\n  - `getUserFromToken()` - Extracts user info (id, email, role) from stored token\n  - `isTokenValid()` - Checks if token is expired\n- Updated `AuthContext.tsx`:\n  - On mount: Uses JWT token decoding (no API call) for immediate auth check\n  - Background fetch: Optionally fetches full user data in background (non-blocking)\n  - After login: Uses token first, then fetches full data (acceptable after login)\n  - After registration: Uses token data, only calls API if needed\n\n**Benefits:**\n- Reduced API calls: `/api/auth/me` no longer called on every page load\n- Faster auth check: Token decoding is instant (no network request)\n- Better UX: User sees authenticated state immediately\n- Still secure: Backend still verifies token signature on every API request\n- Rate limit friendly: Only calls `/api/auth/me` when actually needed\n\n**Security Note:**\nToken decoding on frontend is for performance only. Backend still verifies token signature on every API request. This is standard pattern for JWT-based authentication.",
      "type": "Story",
      "epic": "VL-1",
      "priority": "High",
      "storyPoints": 3,
      "acceptanceCriteria": [
        "JWT token utility created and working (decodeJWT, getUserFromToken, isTokenValid)",
        "AuthContext uses token decoding for initial auth check (no API call)",
        "/api/auth/me rate limit increased to 1000/hour",
        "Rate limiting errors (429) no longer occur during normal app usage",
        "App loads faster (no blocking API call on mount)",
        "User authentication state available immediately from token",
        "Backend still verifies token signature on all API requests"
      ],
      "tasks": [
        {
          "summary": "Backend: Create CurrentUserRateThrottle class",
          "description": "Created `CurrentUserRateThrottle` class in `shared/throttles.py` that allows 1000 requests/hour for `/api/auth/me` endpoint (vs default 100/hour). Uses user ID as cache key for per-user rate limiting. Falls back to IP for unauthenticated requests.",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Backend: Add current_user rate limit to settings",
          "description": "Added `'current_user': '1000/hour'` to `DEFAULT_THROTTLE_RATES` in `config/settings/base.py`.",
          "type": "Task",
          "estimate": "15m",
          "status": "Done"
        },
        {
          "summary": "Backend: Apply custom throttle to get_current_user view",
          "description": "Applied `@throttle_classes([CurrentUserRateThrottle])` decorator to `get_current_user` view in `apps/accounts/views.py`. Updated docstring to document the rate limit.",
          "type": "Task",
          "estimate": "15m",
          "status": "Done"
        },
        {
          "summary": "Frontend: Create JWT token utility",
          "description": "Created `frontend/src/utils/jwt.ts` with utilities:\n- `decodeJWT(token)` - Decodes JWT token without verification (client-side only)\n- `getUserFromToken()` - Extracts user info (id, email, role) from stored access token\n- `isTokenValid()` - Checks if token is expired (with 5 minute buffer)\n\nNote: Token decoding is for performance only. Backend still verifies signature.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Frontend: Update AuthContext to use JWT token decoding",
          "description": "Updated `AuthContext.tsx`:\n- On mount: Uses `getUserFromToken()` for immediate auth check (no API call)\n- Sets user state immediately from token\n- Optionally fetches full user data in background (non-blocking)\n- After login: Uses token first, then fetches full data\n- After registration: Uses token data, only calls API if needed\n\nThis dramatically reduces `/api/auth/me` API calls while maintaining functionality.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        },
        {
          "summary": "Backend: Implement httpOnly cookies for secure token storage",
          "description": "Updated authentication to use httpOnly cookies instead of returning tokens in response body. This prevents XSS attacks from stealing tokens via JavaScript.\n\n**Backend Changes:**\n- Created `CookieJWTAuthentication` class in `shared/authentication.py` that reads tokens from cookies\n- Updated `CustomTokenObtainPairView` to set httpOnly cookies on login:\n  - `access_token` cookie (15 min expiry, httpOnly, Secure in production, SameSite=Lax)\n  - `refresh_token` cookie (7 days expiry, httpOnly, Secure in production, SameSite=Lax)\n  - Removes tokens from response body for security\n- Created `CustomTokenRefreshView` that reads refresh token from cookie and sets new access token cookie\n- Created `logout_view` endpoint that clears httpOnly cookies\n- Updated `DEFAULT_AUTHENTICATION_CLASSES` to use `CookieJWTAuthentication` first, then fallback to `JWTAuthentication`\n- Updated `apps/accounts/urls.py` to use custom refresh and logout views\n\n**Security Benefits:**\n- httpOnly cookies cannot be accessed by JavaScript (prevents XSS attacks)\n- Secure flag ensures cookies only sent over HTTPS in production\n- SameSite=Lax provides CSRF protection\n- Tokens never exposed in localStorage or response bodies",
          "type": "Task",
          "estimate": "3h",
          "status": "Done"
        },
        {
          "summary": "Frontend: Update to work with httpOnly cookies",
          "description": "Updated frontend to work with httpOnly cookies instead of localStorage.\n\n**Frontend Changes:**\n- Updated `api.ts`:\n  - Added `withCredentials: true` to axios config (required for cookies)\n  - Removed manual `Authorization` header (cookies sent automatically)\n  - Updated token refresh interceptor to work with cookies\n- Updated `authService.ts`:\n  - `login()` no longer stores tokens in localStorage (cookies set by backend)\n  - `logout()` calls backend endpoint to clear cookies\n  - `isAuthenticated()` and `getAccessToken()` return false/null (httpOnly cookies can't be read)\n- Updated `AuthContext.tsx`:\n  - On mount: Calls `/api/auth/me` to check auth (cookies sent automatically)\n  - After login: Calls `/api/auth/me` to get user data\n  - After registration: Calls `/api/auth/me` to get user data\n  - `logout()` is now async and calls backend\n- Updated `jwt.ts`:\n  - `getUserFromToken()` and `isTokenValid()` updated to note httpOnly cookies can't be read\n  - Functions kept for backward compatibility but return null/false\n\n**Note:** Since httpOnly cookies cannot be read by JavaScript, we call `/api/auth/me` to check authentication. This is acceptable since we increased the rate limit to 1000/hour.",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-844",
      "summary": "Unified messaging thread: Aggregate messages from all conversations between two users",
      "description": "Modified messaging system to aggregate messages from all conversations between the same two users into a single unified thread. This ensures users see their complete conversation history regardless of how many separate conversations exist.\n\n**Problem:**\n- Multiple conversations existed between the same two users (e.g., created at different times or for different purposes)\n- Users could only see messages from the currently selected conversation\n- This fragmented the conversation history and made it difficult to follow the full context\n\n**Solution:**\n- Modified `ConversationDetailSerializer.get_messages()` to find ALL conversations between the same two participants\n- Aggregates messages from all related conversations into a single chronologically sorted list\n- Maintains security: only aggregates conversations where the user is a participant\n- Includes error handling with fallback to single conversation if aggregation fails\n\n**Backend Changes:**\n- `backend/apps/messaging/serializers.py`:\n  - Updated `get_messages()` to query all conversations between the two participants\n  - Uses `conversation_id__in` to fetch messages from multiple conversations\n  - Orders all messages chronologically regardless of source conversation\n  - Added comprehensive error handling and logging\n\n**Security:**\n- Only aggregates conversations where the current user is a participant\n- Participant verification enforced at view level\n- No information leakage - users can only see their own conversations\n\n**Benefits:**\n- Users see complete conversation history in one place\n- No need to switch between multiple conversations\n- Better user experience with unified thread view\n- Maintains backward compatibility with single-conversation fallback",
      "type": "Story",
      "priority": "High",
      "epic": "VL-5",
      "tasks": [
        {
          "summary": "Backend: Aggregate messages from all conversations between two users",
          "description": "Modified `ConversationDetailSerializer.get_messages()` in `backend/apps/messaging/serializers.py`:\n- Finds all conversations between the current user and the other participant\n- Queries messages from all related conversations using `conversation_id__in`\n- Orders all messages chronologically regardless of source conversation\n- Added error handling with fallback to single conversation\n- Added logging for debugging\n\n**Code Changes:**\n- Identifies other participant from conversation\n- Queries all conversations between the two users using `Count` annotation\n- Aggregates messages from all conversation IDs\n- Returns unified, chronologically sorted message list",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-845",
      "summary": "Fix unified messaging thread: Ensure all messages from all conversations are aggregated",
      "description": "Fixed issue where unified messaging thread was not properly aggregating messages from all conversations between two users. Enhanced backend logging and error handling to ensure complete message aggregation.\n\n**Problem:**\n- Backend was only returning messages from the selected conversation, not all conversations between the two users\n- Messages from multiple conversations were not being aggregated into a single unified thread\n- Users could not see their complete conversation history\n\n**Solution:**\n- Enhanced backend `ConversationDetailSerializer.get_messages()` method\n- Improved conversation finding logic to ensure all conversations between two users are found\n- Added comprehensive logging to track conversation discovery and message aggregation\n- Fixed variable scoping issues in error handling\n- Ensured `conversation_ids` is always defined for logging\n\n**Backend Changes:**\n- `backend/apps/messaging/serializers.py`:\n  - Moved logging import outside try block\n  - Initialize `conversation_ids` with current conversation as fallback\n  - Enhanced logging to show how many conversations are found\n  - Added warning logs when no conversations found\n  - Improved error handling to ensure proper fallback\n\n**Testing:**\n- Backend logs now show:\n  - Number of conversations found between two users\n  - List of conversation IDs being aggregated\n  - Total message count across all conversations\n  - Individual message details with conversation ID\n\n**Expected Behavior:**\n- When user selects any conversation with another user, backend should:\n  1. Find ALL conversations between the two users\n  2. Aggregate messages from ALL conversations\n  3. Return unified, chronologically sorted message list\n  4. Frontend displays complete conversation history",
      "type": "Story",
      "priority": "High",
      "epic": "VL-5",
      "tasks": [
        {
          "summary": "Backend: Fix message aggregation logic and improve logging",
          "description": "Fixed `ConversationDetailSerializer.get_messages()` in `backend/apps/messaging/serializers.py`:\n- Moved logging import outside try block\n- Initialize `conversation_ids` before try block to ensure it's always defined\n- Enhanced logging to show conversation discovery process\n- Added warning logs for edge cases\n- Improved error handling with proper fallback\n\n**Key Changes:**\n- `conversation_ids = [obj.id]` initialized before try block\n- Enhanced logging shows: number of conversations found, conversation IDs, message count\n- Better error messages for debugging",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-846",
      "summary": "Critical Bug: Fix conversation query to properly find all conversations between two users",
      "description": "Fixed critical bug where the query to find all conversations between two users was incorrect, causing older messages from other conversations to not be displayed in the unified thread.\n\n**Root Cause:**\n- The query used chained `.filter()` calls: `Conversation.objects.filter(participants=user1).filter(participants=user2)`\n- In Django ORM, chaining `.filter()` on ManyToMany fields creates an AND condition at the JOIN level, not at the conversation level\n- This means it finds conversations where user1 is a participant AND user2 is a participant, but the query execution might not work as expected\n- The correct approach is to use Q objects with the & operator to explicitly ensure both users are in the SAME conversation\n\n**Problem:**\n- Multiple conversations existed between the same two users (created at different times or for different purposes)\n- When selecting a conversation, only messages from that specific conversation were shown\n- Older messages from other conversations between the same users were not being aggregated\n- Users could not see their complete conversation history\n\n**Solution:**\n- Changed query from chained `.filter()` calls to Q objects with & operator\n- `Conversation.objects.filter(Q(participants=user1) & Q(participants=user2))`\n- This ensures Django finds conversations where BOTH users are participants in the SAME conversation\n- Added debug logging to verify conversation discovery\n- Enhanced logging to show participant emails for each found conversation\n\n**Backend Changes:**\n- `backend/apps/messaging/serializers.py`:\n  - Changed conversation query to use Q objects: `Q(participants=request.user) & Q(participants=other_participant)`\n  - Added debug logging to verify conversation discovery\n  - Added participant email logging for each found conversation\n  - Improved error handling\n\n**Technical Details:**\n- ManyToMany relationships in Django require explicit Q objects for complex queries\n- Chaining `.filter()` on M2M fields can produce unexpected results\n- Q objects with & operator ensure both conditions are met in the same related object\n\n**Testing:**\n- Backend logs now show:\n  - Number of conversations found between two users\n  - List of conversation IDs\n  - Participant emails for each conversation (for verification)\n  - Total message count across all conversations\n\n**Expected Behavior:**\n- When user selects any conversation with another user:\n  1. Backend finds ALL conversations where BOTH users are participants\n  2. Aggregates messages from ALL found conversations\n  3. Returns unified, chronologically sorted message list\n  4. Frontend displays complete conversation history including older messages",
      "type": "Story",
      "priority": "Critical",
      "epic": "VL-5",
      "tasks": [
        {
          "summary": "Backend: Fix conversation query to use Q objects instead of chained filters",
          "description": "Fixed `ConversationDetailSerializer.get_messages()` in `backend/apps/messaging/serializers.py`:\n- Changed from: `Conversation.objects.filter(participants=user1).filter(participants=user2)`\n- Changed to: `Conversation.objects.filter(Q(participants=user1) & Q(participants=user2))`\n- Added debug logging to verify conversation discovery\n- Added participant email logging for each found conversation\n\n**Why This Fix Works:**\n- Q objects with & operator explicitly ensure both users are in the SAME conversation\n- Chained `.filter()` calls on ManyToMany fields can produce incorrect results\n- This is a common Django ORM pitfall with M2M relationships",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-847",
      "summary": "Debug: Enhanced logging for conversation aggregation to identify missing messages",
      "description": "Added comprehensive debugging and alternative query method to identify why messages from all conversations are not being aggregated correctly.\n\n**Problem:**\n- Backend query should find all conversations between two users and aggregate messages\n- Frontend logs show only 2 messages being returned when there should be more\n- Need to verify if:\n  1. Query is not finding all conversations\n  2. Messages query is not retrieving all messages\n  3. Some conversations don't have messages\n\n**Solution:**\n- Added alternative query method using intersection approach\n- Compare results from Q object method vs intersection method\n- Added per-conversation message count logging\n- Added total message count verification\n- Enhanced logging to show message counts per conversation before and after aggregation\n\n**Backend Changes:**\n- `backend/apps/messaging/serializers.py`:\n  - Added alternative query method: `user1_conversations.filter(id__in=user2_conversations)`\n  - Compare results from both methods\n  - Log message count per conversation before aggregation\n  - Log total expected vs actual message count\n  - Warn if counts don't match\n\n**Debugging Output:**\n- Shows how many conversations each method finds\n- Shows message count per conversation\n- Shows total expected vs actual message count\n- Warns if there's a mismatch\n\n**Next Steps:**\n- Check backend logs to see:\n  - How many conversations are found\n  - Message count per conversation\n  - If there's a mismatch between expected and actual counts",
      "type": "Story",
      "priority": "High",
      "epic": "VL-5",
      "tasks": [
        {
          "summary": "Backend: Add alternative query method and enhanced logging",
          "description": "Enhanced `ConversationDetailSerializer.get_messages()` in `backend/apps/messaging/serializers.py`:\n- Added alternative query method using intersection approach\n- Compare Q object method vs intersection method\n- Log message count per conversation before aggregation\n- Log total expected vs actual message count\n- Warn if counts don't match\n\n**Key Changes:**\n- Two query methods for comparison\n- Per-conversation message count logging\n- Total message count verification\n- Mismatch detection and warning",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        }
      ],
      "status": "Done"
    },
    {
      "key": "VL-848",
      "summary": "Critical Security Fix: Replace email comparisons with UUID comparisons in messaging",
      "description": "Fixed critical security vulnerability where email addresses were used for user identification and comparison instead of UUIDs. This could allow unauthorized access if emails are changed.\n\n**Security Issue:**\n- Code was using email addresses for logging and comparison: `request.user.email` and `other_participant.email`\n- If a user changes their email to match another user's email, they could potentially access that user's conversations\n- Email addresses are mutable and should never be used for security-critical operations\n- UUIDs are immutable and unique identifiers that should be used for all user identification\n\n**Solution:**\n- Replaced all email-based comparisons with UUID-based comparisons\n- Updated logging to use UUIDs instead of emails\n- Ensured all user identification uses `user.id` (UUID) instead of `user.email`\n- Maintained email in serialized output for display purposes only (not for security)\n\n**Backend Changes:**\n- `backend/apps/messaging/serializers.py`:\n  - Replaced email logging with UUID logging\n  - Changed conversation query to use UUID-based intersection method\n  - Added UUID-based participant verification\n  - All security checks now use UUIDs\n\n**Security Benefits:**\n- UUIDs are immutable - cannot be changed to impersonate other users\n- UUIDs are unique - no collision risk\n- Prevents email-based access control bypass\n- Follows security best practices for user identification\n\n**Verification:**\n-  User confirmed: \"working perfect thanks\" - All messages from all conversations between two users are now properly aggregated into a single unified thread\n-  Messages display correctly in frontend\n-  System messages and user messages both visible\n-  Security fix verified: UUID-based identification working correctly",
      "type": "Story",
      "priority": "Critical",
      "epic": "VL-5",
      "tasks": [
        {
          "summary": "Backend: Replace email comparisons with UUID comparisons",
          "description": "Updated `ConversationDetailSerializer.get_messages()` in `backend/apps/messaging/serializers.py`:\n- Changed all logging from email-based to UUID-based\n- Updated conversation query to use UUID intersection method\n- Added UUID-based participant verification\n- Removed email from security-critical operations\n\n**Key Changes:**\n- `request.user.email`  `request.user.id` (UUID)\n- `other_participant.email`  `other_participant.id` (UUID)\n- Email only used in serialized output for display (not security)\n- All comparisons use UUIDs",
          "type": "Task",
          "estimate": "1h",
          "status": "Done"
        },
        {
          "summary": "Backend: Fix conversation query to find all conversations using intersection method",
          "description": "Fixed conversation query that was only finding 1 conversation instead of all 3 between two users.\n\n**Problem:**\n- Q object query was only returning 1 conversation\n- Need to find ALL conversations where both users are participants\n- Multiple conversations exist between the same two users\n\n**Solution:**\n- Changed to intersection method: get all conversations for user1, get all for user2, find intersection\n- Verify each conversation has exactly 2 participants\n- Use UUID-based verification for security\n- Log using UUIDs instead of emails\n\n**Key Changes:**\n- Primary method: Set intersection of conversation IDs\n- Verify participant count = 2 for each conversation\n- Use UUIDs for all comparisons and logging",
          "type": "Task",
          "estimate": "2h",
          "status": "Done"
        }
      ],
      "status": "Done"
    }
  ],
  "metadata": {
    "created": "2025-01-27",
    "updated": "2026-01-20",
    "version": "1.16",
    "totalStories": 64,
    "totalTasks": 293,
    "estimatedStoryPoints": 332
  }
}
